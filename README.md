<h1>Back-End</h1><h2>Banco de dados</h2><p>Toda a base de dados foi feita através do Prisma, usando o SQLite para armazenar os dados.</p><p>O schema é composto por três models:<strong> Client, Block, Text </strong>.</p><ul><li>Um <strong>Client </strong>pode ter vários <strong>Blocks.</strong></li><li>Um <strong>Block </strong>pode ter vários <strong>Texts.</strong></li><li><strong>Text </strong>contém uma referência não obrigatória a <strong>Blocks.</strong></li></ul><p><br></p><h2>Node.js</h2><p>Rotas criadas para o sistema:</p><ul><li><strong>Client, Block, Text </strong>- Rota <strong>get </strong>para listar um único cliente, bloco ou texto e todos os clientes, blocos ou textos.</li><li><strong>Client, Block, Text </strong>- Rota <strong>post </strong>para listar um cliente, bloco ou texto.</li><li><strong>Client, Block, Text </strong>- Rota <strong>put </strong>para editar um cliente, bloco ou texto.</li><li><strong>Client, Block, Text </strong>- Rota <strong>delete </strong>para deletar um determinado cliente, bloco ou texto(busca feita pelo id).</li><li><strong>OBS: Client, Block, Text - </strong>Para cada função citada acima, cada um possui uma rota individual.</li></ul><p><br></p><h1>

<h2>Instruções para iniciar e fazer a manutenção do sistema</h2><p><br></p><p>npm init -y</p><p>-&gt; criar o package.json</p><p><br></p><p>npm install express --save</p><p>-&gt; instalar o express e salvar como dependencia</p><p><br></p><p>npm install node-dev</p><p>-&gt; add uma linha nos scripts</p><p>-&gt; "dev": "node-dev src/server.mjs "</p><p><br></p><p>adicionar no package.json { "type": "module", }</p><p>-&gt; arquivos .js agora serao .mjs</p><p><br></p><p>npm install prisma -D</p><p>-&gt; instalar o prisma</p><p><br></p><p>npm i @prisma/client</p><p>-&gt; instalar o client para poder acessar os dados do BD</p><p><br></p><p>npx prisma init --datasource-provider sqlite</p><p>-&gt; iniciar o prisma com o sqlite</p><p><br></p><p>alterar o .env</p><p>-&gt; DATABASE_URL="file:../src/database/db.sqlite"</p><p><br></p><p>npx prisma migrate diff --from-schema-datamodel</p><p><br></p><p>npx prisma migrate dev</p><p>-&gt; toda vez que for fazer alterações nas tabelas do BD usar o comando</p><p><br></p><p>npx prisma studio</p><p>-&gt; executar o prisma studio com as tabelas</p>
